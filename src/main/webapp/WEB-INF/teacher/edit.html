<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<p th:text="${msg}"></p>
	<form th:action="@{/teacher/uploadEdit}" method="post"
		enctype="multipart/form-data">
		<div>
			<h1>教学成果</h1>
			<table border="1">
				<tr>
					<th>资源编号</th>
					<th>资源名称</th>
					<th>标题</th>
				</tr>
				<tr>
					<td><select>
							<option value="1" name="resources.reTypeid">教学成果</option>
							<option value="2" name="resouuce.reTypeid">教育动态</option>
							<option value="3" name="resource.reTypeid">文化作品</option>
					</select></td>
					<td><select>
							<option value="1" name="resources.reTypeName">教学成果</option>
							<option value="2" name="resource.reTypeName">教育动态</option>
							<option value="3" name="resource.reTypeName">文化作品</option>
					</select></td>
					<td><input type="text" name="resource.reTitle"
						style="border: none; outline: none"></td>
				</tr>
				<tr>
					<th colspan="4">内容</th>
				</-tr>
				<tr>
					<td colspan="4"><div id="div1"></div> <textarea
						style="display: none" name="resource.reContent" id="edit"></textarea>
					</td>
				</tr>
				<button onclick="editor.txt.clear()">清空</button>
			</table>
		</div>
		<input onclick="sub()" type="submit">
	</form>
	<script th:src="@{/static/fonts/wangEditor.min.js}"></script>
	<script type="text/javascript">
		var E = window.wangEditor
		var editor = new E('#div1')
		editor.customConfig.uploadImgShowBase64 = true
		editor.create()
		document.getElementById('btn1').addEventListener('click', function() {
			// 读取 html
			alert(editor.txt.html())
		}, false)
		document.getElementById('btn2').addEventListener('click', function() {
			// 读取 text
			var edit = document.getElementById("edit");
			edit.value = editor.txt.text();
			/* alert(edit.value) */
		}, false)
		function sub() {
			// 读取 text
			editor.customConfig.uploadImgServer = '/uploading'
			editor.customConfig.uploadFileName = 'yourFileName'
			var edit = document.getElementById("edit");
			edit.value = editor.txt.text();
			/* alert(edit.value) */
		}
	</script>
	<script>
		var div1 = document.getElementById('div1')
		var textarea = document.getElementsByTagName('textarea')
		textarea.innerHTML = div1.innerHTML;
	</script>
</body>
</html>